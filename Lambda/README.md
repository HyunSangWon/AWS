Serverless note
=======

![](https://velopert.com/wp-content/uploads/2018/02/blog-images.003.png)

## AWS 람다를 활용한 서비스 운영 하기

## Introduction
1. 서버리스의 필요성
    1. EC2도 결국 온프레미스 환경과 마찬가지로 네트워크 및 미들웨어, 애플리케이션 설계와 구축에 시간이 든다.
    2. 실시간 데이터및 큰 데이터를 처리하지 않는 어플리케이션을 개발해야 한다.
    3. 접속당 요금을 내고 싶다.
2. 서버리스 설계시 핵심 사항
    1. Lambda와 API 게이트웨이를 이용하여 가상 서버를 사용하지 않고 동적 컨텐츠 웹사이트를 구축.
    2. 클라우드 프론트와 S3를 이용하여 정적컨텐츠를 사용한다.
    3. 정적 콘텐츠 전달 방식을 사용하면 EC2를 이용한 웹 서버 구축이 없기 때문에 설계 및 유지보수, 운영 시간을 절약.
3. Lambda와 API GATEWAY 이점
    1. 변화하는 부하에 대해서도 자동으로 대응할 수 있다. 부하가 증가해도 서버 추가를 사용자 측에서 작업할 필요가 없다.
    2. 서버 환경보단 코드에 집중을 더욱 할 수 있다.
4. Lambda 주의사항
    1. AWS Lambda는 단시간에 끝나는 가벼운 작업을 많이 수행하는 경우를 가정에서 나온 인스턴스.
    2. 실행시간이 길거나 상태 저장 작업을 수행하려면 EC2 인스턴스에 서버를 구축해야 한다.
    3. Lambda 함수는 컨테이너에서 매번 시작,종료하기 때문에 오버헤드가 발생한다.
    4. Lambda 함수 단독으로 REST API를 만들 수 없다.
    5. 웹소켓 같이 계속 HTTP 통신이 되는 서비스는 부적합 대신 AWS IoT,Pusher 등의 서비스 이용할것.
    6. 하나의 함수가 한번 호출 될때, AWS 에서는  최대 1500MB 의 메모리까지 사용 가능, 처리 시간은 최대 300초 까지 사용가능.
    7. AWS Lambda의 Default VPC는 사용자가 생성한 VPC가 아닌, AWS가 관리하는 영역의 Public VPC에 생성.
    8. VPC 내부 리소스 접근, NAT Gateway를 통한 고정IP가 필요하다면 VPC를 생성하고 선택해야 한다.
    9. 람다는  전용 인스턴스 테넨시를 사용하요 VPC에 직접 연결할 수 없다.
